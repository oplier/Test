/*
 * CSE Deliver Modules - lightbox.5
 * Copyright 2013, Qubit Products
 * http://www.qubitproducts.com
 */
window.__qubit.amd.define("deliver-modules/lightbox/lightbox.5",[],function(){var a=function(a){function b(){f=setTimeout(c,l.entry.after),l.exit.after>0&&(g=setTimeout(d,l.exit.after+l.entry.after+l.entry.duration))}function c(){i.stop(),j.stop(),l.entry.slide&&(i.css("top",-l.css.height),i.animate({top:l.css.top},{duration:l.entry.duration,queue:!1})),l.entry.fade?(i.css({opacity:0,display:"block"}),i.animate({opacity:l.css.opacity||1},l.entry.duration),l.screen.display&&(j.css({opacity:0,display:"block"}),j.animate({opacity:l.screen.css.opacity},l.entry.duration))):(i.show(),l.screen.display&&j.show()),l.screen.display&&(l.screen.closeOnClick&&j.click(h),l.screen.onClick instanceof Function&&j.click(l.screen.onClick)),"function"==typeof l.onEnter&&l.onEnter()}function d(){i.stop(),e(document.body).unbind("click",h),j.stop(),l.exit.slide&&i.animate({top:-l.css.top},{duration:l.exit.duration,queue:!1}),l.exit.fade?(i.animate({opacity:0},l.exit.duration,function(){i.css("display","none")}),l.screen.display&&j.animate({opacity:0},l.exit.duration,function(){j.css("display","none")})):(i.hide(),l.screen.display&&j.hide()),"function"==typeof l.onExit&&setTimeout(function(){l.onExit()},l.exit.duration)}var e=a&&a.jQuery?a.jQuery:window.jQuery,f=-1,g=-1,h=null,i=e("<div></div>"),j=e("<div></div>"),k={html:"",screen:{display:!0,css:{position:"fixed","background-color":"#555",opacity:.8,width:"100%",height:"100%",top:0,left:0,"z-index":6e3,display:"none"},closeOnClick:!0,onClick:function(){}},entry:{slide:!1,fade:!0,duration:200,after:0},exit:{slide:!1,fade:!0,duration:200,after:0},css:{display:"none",position:"fixed",width:300,height:300,top:"50%",left:"50%","z-index":7e3},onEnter:null,onExit:null},l=k;a&&e.extend(!0,l,a),l.css["margin-left"]=-(l.css.width/2),"50%"==l.css.top&&(l.css["margin-top"]=-(l.css.height/2)),i.html(l.html),i.css(l.css),i.appendTo("body"),l.screen.display&&(j.css(l.screen.css),j.appendTo("body")),h=function(){d()};var m={config:l,$el:i,$screen:j,fire:function(){b()},enter:function(){c()},exit:function(){d()}};return m};return a});